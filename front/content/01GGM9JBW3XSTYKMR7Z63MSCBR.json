{"id":"01GGM9JBW3XSTYKMR7Z63MSCBR","title":"Atcoder ABC275 A~DをRustで解く","content":"\n# A\nAtCoder 村には N 本の橋があり、i 本目（ i は 1 以上 N 以下の整数）の橋の高さは \n${H_i}$です。\n\nここで、AtCoder 村にある N 本の橋のうち、どの相異なる 2 本の橋も高さが異なります。\n\nAtCoder 村で最も高い橋は何本目の橋か出力してください。\n\n## 制約\n- $1≤N≤100$\n\n- $1≤{H_i}≤10^9$\n- ${H_i}$はすべて異なる\n- 入力はすべて整数\n\n## 解法\n\n制約から$1≤N≤100$なので、愚直にfor文で一つずつ高さを比較していけばよさそうです。\n\n```rust\nuse proconio::{fastout, input};\n#[fastout]\npub fn main() {\n    input! {\n    n:usize,\n    h:[usize;n],\n        }\n    let mut highest = 0;\n    for i in 0..n {\n        if h[highest] < h[i] {\n            highest = i;\n        }\n    }\n    println!(\"{}\", highest + 1);\n}\n```\n# B\n非負整数 $A,B,C,D,E,F$ があり、$A×B×C≥D×E×F$ をみたしています。\n\n$(A×B×C)−(D×E×F)$ の値を $998244353$ で割った余りを求めてください。\n\n## 制約\n- $0≤A,B,C,D,E,F≤10^{18}$\n- $A×B×C≥D×E×F$\n- $A,B,C,D,E,F$は整数\n\n## 解法\n分配則により、予め余りをとってから計算してもよいことが分かります。\n\n制約より、$A×B×C≥D×E×F$ ではあるものの余りについては上記の関係性を満たさないため、998244353を足してから差分を取ります。\n\n\n```rust\nuse proconio::{fastout, input};\n#[fastout]\npub fn main() {\n    input! {\n    mut  a:u128,\n    mut  b:u128,\n    mut  c:u128,\n    mut  d:u128,\n    mut  e:u128,\n    mut  f:u128,\n         }\n    let m = 998244353;\n    a %= m;\n    b %= m;\n    c %= m;\n    d %= m;\n    e %= m;\n    f %= m;\n    let abc = (a * b) % m * c % m;\n    let def = (d * e) % m * f % m;\n    println!(\"{}\", (abc + m - def) % m);\n}\n```\n\n\n# C\n二次元平面があります。1 以上 9 以下の整数 r,c について、${S_r}$の c 番目の文字が`#`であるとき座標 $(r,c)$ にポーンが置いてあり、\n${S_r}$の c 番目の文字が `.` であるとき座標 $(r,c)$ に何も置かれていません。\n\nこの平面上の正方形であって、4 頂点全てにポーンが置いてあるものの個数を求めてください。\n\n## 制約\n- ${S_1},…,{S_9}$はそれぞれ `#` と `.` からなる長さ 9 の文字列\n\n## 解法\n\nマス目は$9*9=81$マスしかないので、全てのマスにポーンが置いてあると仮定しても全探索が出来そう。\n\n最大81個のポーンの座標を保持し、その中から4つ選ぶ組合わせを列挙。一つずつ正方形を満たすかどうかをチェックすればよさそうです。ありえる組み合わせは最大`1663740`通りです。\n\n$$\n{}_{81}\\mathrm{C}_4=\\frac{81*80*79*78}{4!}=1663740\\fallingdotseq 2*10^6\n$$\n\n![](https://storage.googleapis.com/zenn-user-upload/909f8f8a6e6e-20221030.png)\n\nある座標平面上の第一象限に存在する正方形の外側にその正方形を内包する正方形がさらに存在すると仮定します。\n\n頂点Bと頂点Aのx座標の差$B_x-A_x$、y座標の差$B_y-A_y$より線分ABの傾きが分かります。\n\n線分`DC`と線分`AB`の傾きは等しいので、左上の区画についても$B_y-A_y$,$B_x-A_x$であると言えそうです。\n\n\nまた、線分`CB`は線分`AB`と直行し、両者の傾きの積が-1となるので、上図の線分`CD`の傾きをXとすると\n\n$$\n\\frac{B_y-A_y}{B_x-A_x}*X=-1\n$$\n\n$$\nX =-\\frac{B_x-A_x}{B_y-A_y}\n$$\n\nとなります。\n\n線分`DA`についても線分`DC`と同じことが言えそうです。\n\n頂点ABCDについて、実際にBとCのx座標の差分が|By-Ay|,y座標の差分が|Bx-Ax|かどうかをチェック。CとD,DとAについても同様にチェックし、全て満たせば正方形としてカウントします。\n\n一点注意として、任意の四点を組み合わせた際、必ずしも上図のABCDのような順番で選ばれているとは限りません。\n`ACBD`の順番なら正方形の関係を満たすが、組合せの順番が`ABCD`だった場合正方形とカウントされない恐れがあります。\n\nなので各組み合わせに付き、頂点Aを固定した円順列だと考えることで、一つの組み合わせに付き$3!=6$通りの並び方をチェックします。\n各組み合わせに付き6通りのチェックをするので、\n\n$$\n2.0*10^6*6=1.2*10^7\n$$\n\n通りとなります。\n\n\n```rust\nuse itertools::Itertools;\nuse proconio::{fastout, input, marker::Chars};\n#[fastout]\npub fn main() {\n    input! {\n    s:[Chars;9]\n        }\n    let mut coor = vec![];\n    for i in 0..9 {\n        for j in 0..9 {\n            let a = s[i][j];\n            if a == '.' {\n                continue;\n            }\n            coor.push((i as i64, j as i64));\n        }\n    }\n    let comb: Vec<_> = coor.iter().combinations(4).collect();\n    let mut res = 0;\n    for i in 0..comb.len() {\n        let (a, b, c, d) = (comb[i][0], comb[i][1], comb[i][2], comb[i][3]);\n        // 円順列6通り\n        if check(a, b, c, d)\n            || check(a, b, d, c)\n            || check(a, c, b, d)\n            || check(a, c, d, b)\n            || check(a, d, b, c)\n            || check(a, d, c, b)\n        {\n            res += 1;\n        }\n    }\n    println!(\"{}\", res);\n}\n \nfn check(a: &(i64, i64), b: &(i64, i64), c: &(i64, i64), d: &(i64, i64)) -> bool {\n    let dx = (a.0 - b.0).abs();\n    let dy = (a.1 - b.1).abs();\n    if b.0 + dy == c.0\n        && b.1 + dx == c.1\n        && c.0 - dx == d.0\n        && c.1 + dy == d.1\n        && d.0 - dy == a.0\n        && d.1 - dx == a.1\n    {\n        return true;\n    }\n    false\n}\n```\n\n\n\n# D\n\n\n# 感想\n\nhttps://atcoder.jp/users/k_xor_yama/history/share/abc275\n\na,c,dの3問が解けて入茶しました。\nC問題は嘘解法臭い & d問題もメモ化再帰を張り付けるだけだったので、かなり\n上振れしたパフォーマンスが出ました。\n\n自分の実力はまだまだ茶色に届くか届かないか位だと思うので、しっかり明日からも精進頑張ろうと思います。","tags":[{"id":"01GGMAZEEG9PFCCJRYQEGWAZKD","name":"test","created_at":"2022-10-30T11:24:13Z","updated_at":"2022-10-30T12:49:28Z"}],"created_at":"2022-10-30T11:24:13Z","updated_at":"2022-10-30T12:49:28Z"}